<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Grab and Go - Order Products</title>
    <link rel="stylesheet" th:href="@{/css/ourRestaurants.css}">
    <style>
        .back-button {
            position: absolute;
            top: 120px;
            left: 30px;
            padding: 10px 16px;
            background-color: #4CAF50;
            color: white;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            z-index: 10;
        }

        .back-button:hover {
            background-color: #45a049;
        }

        .complete-order-button {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 16px;
            background-color: #008CBA;
            color: white;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
        }

        .complete-order-button:hover {
            background-color: #007bb5;
        }

        .content {
            margin: 0 30px;
        }
    </style>
</head>
<body>

<header>
    <div class="logo">
        <span>Grab</span><span class="highlight">&amp;</span><span class="highlightSecond">go</span>
    </div>
    <nav>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/restaurants/index">Our Restaurants</a></li>
            <li><a href="/aboutUs">About Us</a></li>
            <li><a href="/contact">Contacts</a></li>
            <li><a href="/profile">Profile</a></li>
        </ul>
    </nav>
</header>


<a href="/orders" class="back-button">⬅ Back to Orders</a>

<main>
    <section class="content">
        <h2>Select Product to Add</h2>

        <form th:action="@{/order_products/index}" method="get">
            <label for="productSelect">Choose a product:</label>
            <select name="productId" id="productSelect" onchange="this.form.submit()">
                <option value="">-- Select --</option>
                <option th:each="p : ${products}"
                        th:value="${p.id}"
                        th:text="${p.name}"
                        th:selected="${selectedProduct != null} ? ${p.id} == ${selectedProduct.id} : false">
                </option>
            </select>
        </form>

        <div th:if="${selectedProduct != null}">
            <h3>Product Details</h3>
            <p><strong>Name:</strong> <span th:text="${selectedProduct.name}">Product Name</span></p>
            <p><strong>Description:</strong> <span th:text="${selectedProduct.description}">Description</span></p>
            <p><strong>Category:</strong> <span th:text="${selectedProduct.category}">Category</span></p>

            <form th:action="@{/order_products/add}" method="post">
                <input type="hidden" name="productId" th:value="${selectedProduct.id}" />

                <label for="quantity">Quantity:</label>
                <input type="number" name="quantity" id="quantity" min="1" value="1" required />

                <label for="price">Price:</label>
                <input type="number" step="0.01" name="price" id="price" required />

                <button type="submit">Add</button>
            </form>
        </div>

        <hr>

        <h2>Products in Order</h2>
        <div class="table-wrapper">
            <table>
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="op : ${orderProducts}">
                    <td th:text="${op.id}">1</td>
                    <td th:text="${op.product.name}">Product Name</td>
                    <td th:text="${op.quantity}">2</td>
                    <td th:text="${op.price}">9.99</td>
                </tr>
                </tbody>
            </table>
        </div>


        <a href="/reviews" class="complete-order-button">✅ Complete Order</a>
    </section>
</main>

<footer>
    <div class="footer-logo">
        <span>Grab</span><span class="highlight">&amp;</span><span class="highlightSecond">go</span>
    </div>
    <div class="footer-data">
        <div class="links">
            <h4>Links</h4>
            <ul>
                <li><a href="/aboutUs">About Us</a></li>
                <li><a href="/contact">Contact Us</a></li>
                <li><a href="#">Blog</a></li>
                <li><a href="#">FAQ</a></li>
            </ul>
        </div>
        <div class="social">
            <h4>Social</h4>
            <ul>
                <li><a href="https://facebook.com" target="_blank">Facebook</a></li>
                <li><a href="https://instagram.com" target="_blank">Instagram</a></li>
                <li><a href="https://linkedin.com" target="_blank">LinkedIn</a></li>
            </ul>
        </div>
        <div class="policies">
            <h4>Policies</h4>
            <ul>
                <li><a href="#">Terms & Conditions</a></li>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Cookie Policy</a></li>
            </ul>
        </div>
    </div>
</footer>

</body>
</html>
